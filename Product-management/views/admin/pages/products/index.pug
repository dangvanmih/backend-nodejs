extends ../../layouts/default.pug
include ../../mixins/filter-Status.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug
block main 
  h1 Danh sách sản phẩm 

  .card.mb-3  
    .card-header Bộ lọc và tìm kiếm
    .card-body
      .row
        .col-6
          //- thêm attribute tự định nghĩa để bắt sự kiện bên front-end 
          +filter-Status(filterStatus)
        .col-6
          +search(keyword)
  .card.mb-3  
    .card-header Danh sách
    .card-body
      table.table
        thead
          tr
            th STT
            th Hình ảnh
            th Tiêu đề
            th Giá
            th Trạng thái 
            th Hành động
        tbody
          each item,index in products
            tr
              th #{index + 1}
              td 
                img(src=item.thumbnail alt=item.title width="100px" height = "auto")
              td #{item.title}
              td #{item.price}
              td
                if(item.status === "active")
                  a(
                    href="javascript:;" 
                    class = "badge badge-success" 
                    data-status=item.status 
                    button-change-status
                    data-id=item.id
                  ) Hoạt động
                else 
                  a(
                    href="javascript:;" 
                    class= "badge badge-danger" 
                    data-status=item.status 
                    button-change-status 
                    data-id=item.id
                  ) Không hoạt động
              td 
                button(class = "btn btn-warning btn-sm") Sửa
                button(class = "btn btn-danger btn-sm ml-1") Xóa

  +pagination(pagination) 

  form(
    action=""
    method="POST"
    id="form-change-status"
    data-path=`${prefixAdmin}/products/change-status`
  )
  script(src="/admin/js/product.js")

  //- 1:05:25/24